@if (incomes$ | async; as incomes) {
<div class="header">
    <h2 class="title-large">Ingreso mensual:</h2>
    <h2 class="title-large">{{incomes.incomeTotal | currency}}</h2>
</div>
<div class="scroll" #scroll>
    <div class="content">
        @for (income of incomes.list; track income.id) {
        <div #item class="card income" [class.form]="incomeEdit === item" [@animate]>
            @if (incomeEdit === item) {
            <h3 class="title-small">Editar ingreso menusal</h3>
            <div class="form">
                <input class="text-medium input" type="text" name="name" id="name" placeholder="Nombre/Alias/Concepto"
                    [formControl]="incomeForm.controls.name" tabindex="1" maxlength="30"
                    (keydown.enter)="$event.preventDefault(); amount.focus()">
                <input #amount class="text-medium input" type="tel" name="amount" id="amount" placeholder="Cantidad"
                    [formControl]="incomeForm.controls.amountEstimated" appCurrency tabindex="2" maxlength="11"
                    (keydown.enter)="$event.preventDefault(); submitEdit(income.id!)">
            </div>
            <div class="buttons-add">
                <button class="btn-danger" (click)="$event.preventDefault(); cancelEdit()" tabindex="3">
                    Cancelar
                    <mat-icon fontSet="material-symbols-rounded"
                        style="font-size: 24px; color: white;">cancel</mat-icon>
                </button>
                <button class="btn-success" (click)="$event.preventDefault(); submitEdit(income.id!)" tabindex="4">
                    Confirmar
                    <mat-icon fontSet="material-symbols-rounded"
                        style="font-size: 24px; color: white;">check_circle</mat-icon>
                </button>
            </div>
            }@else {
            <div class="info">
                <h3 class="title-small">{{income.name}}</h3>
                <span class="text-large">{{income.amountEstimated | currency}}</span>
            </div>
            <div class="actions">
                <button class="btn-primary" id="edit" (click)="$event.preventDefault(); openEdit(income,item);">
                    <mat-icon fontSet="material-symbols-rounded" style="font-size: 24px;" color="white">edit</mat-icon>
                </button>
                <button class="btn-danger" id="delete" (click)="$event.preventDefault(); deleteIncome(income.id!);">
                    <mat-icon fontSet="material-symbols-rounded" style="font-size: 24px;"
                        color="white">delete</mat-icon>
                </button>
            </div>
            }
        </div>
        }@empty {
        <div>
            <div class="card">
                <h3 class="title-medium">Registra al menos un ingreso mensual.</h3>
            </div>
        </div>
        }
        <app-add-element label="Agregar ingreso mensual" #addElement (onClose)="incomeForm.reset();" [@animate]>
            <div class="card form">
                <h3 class="title-small">Nuevo ingreso menusal</h3>
                <div class="form">
                    <input class="text-medium input" type="text" name="name" id="name" tabindex="0"
                        placeholder="Nombre/Alias/Concepto" [formControl]="incomeForm.controls.name">
                    <input class="text-medium input" type="tel" name="amount" id="amount" placeholder="Cantidad"
                        [formControl]="incomeForm.controls.amountEstimated" appCurrency tabindex="1">
                </div>
                <div class="buttons-add">
                    <button class="btn-danger" (click)="$event.preventDefault(); cancelNew(addElement)">
                        Cancelar
                        <mat-icon fontSet="material-symbols-rounded"
                            style="font-size: 24px; color: white;">cancel</mat-icon>
                    </button>
                    <button class="btn-success" (click)="$event.preventDefault(); submitNew(addElement)">
                        Confirmar
                        <mat-icon fontSet="material-symbols-rounded"
                            style="font-size: 24px; color: white;">check_circle</mat-icon>
                    </button>
                </div>
            </div>
        </app-add-element>
    </div>
</div>
}@else {
<div>
    <h1>Error al obtener tus ingresos.</h1>
</div>
}