import{d as g}from"./chunk-XENJULYC.js";import{Fa as o,La as f,fa as c,gb as u}from"./chunk-6WEJXUXI.js";var p=class s{constructor(r,e){this.elementRef=r;this.ngControl=e;this.el=this.elementRef.nativeElement}el;onInput(){let r=this.el.value,e=r.replace(/[^0-9.]/g,"");if(e.startsWith(".")&&(e="0"+e),!e||e==="0"){this.el.value="",this.ngControl.control?.setValue("");return}let n=e.split("."),i=n[0],t=n[1]||"";n.length>2&&(t=n.slice(0).join("").substring(0,2)),i=i.replace(/^0+(?!$)/,""),i=i.replace(/\B(?=(\d{3})+(?!\d))/g,","),t.length>2&&(t=t.substring(0,2));let l=`$${i}`;r.includes(".")&&(l+=".",t&&(l+=t));let h=this.el.selectionStart??0,m=this.el.value.length;this.ngControl.control?.setValue(e),this.el.value=l;let d=l.length-m,a=Math.max(h+d,0);this.el.setSelectionRange(a,a)}static \u0275fac=function(e){return new(e||s)(o(c),o(g,10))};static \u0275dir=f({type:s,selectors:[["","appCurrency",""]],hostBindings:function(e,n){e&1&&u("input",function(t){return n.onInput(t)})}})};export{p as a};
